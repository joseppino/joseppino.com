import{s as J,n as O}from"../chunks/scheduler.B720Wybo.js";import{S as K,i as Q,e as _,s as T,c as p,j as b,g as F,b as k,h,d as E,f as H,l as c,a as P,p as W,t as q,k as S,q as X,m as B}from"../chunks/index.Ctv-Nbzx.js";import{e as z}from"../chunks/each.D6YF6ztN.js";import{s as Z}from"../chunks/supabaseClient.BQrSqomd.js";function R(r,e,n){const t=r.slice();return t[4]=e[n],t}function V(r){let e,n=z(r[0]),t=[];for(let s=0;s<n.length;s+=1)t[s]=Y(R(r,n,s));return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=P()},l(s){for(let o=0;o<t.length;o+=1)t[o].l(s);e=P()},m(s,o){for(let l=0;l<t.length;l+=1)t[l]&&t[l].m(s,o);H(s,e,o)},p(s,o){if(o&3){n=z(s[0]);let l;for(l=0;l<n.length;l+=1){const a=R(s,n,l);t[l]?t[l].p(a,o):(t[l]=Y(a),t[l].c(),t[l].m(e.parentNode,e))}for(;l<t.length;l+=1)t[l].d(1);t.length=n.length}},d(s){s&&h(e),W(t,s)}}}function Y(r){let e,n,t=r[4].id+"",s,o,l,a=new Date(r[4].created_at).toLocaleDateString()+"",i,f,u,v=r[4].title+"",y,w,D,m,U="Delete",C,L,j;function G(){return r[3](r[4])}return{c(){e=_("tr"),n=_("td"),s=q(t),o=T(),l=_("td"),i=q(a),f=T(),u=_("td"),y=q(v),w=T(),D=_("td"),m=_("button"),m.textContent=U,C=T(),this.h()},l(g){e=p(g,"TR",{});var d=b(e);n=p(d,"TD",{});var A=b(n);s=S(A,t),A.forEach(h),o=k(d),l=p(d,"TD",{});var I=b(l);i=S(I,a),I.forEach(h),f=k(d),u=p(d,"TD",{});var M=b(u);y=S(M,v),M.forEach(h),w=k(d),D=p(d,"TD",{});var N=b(D);m=p(N,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),F(m)!=="svelte-5ukzr5"&&(m.textContent=U),N.forEach(h),C=k(d),d.forEach(h),this.h()},h(){E(m,"type","button"),E(m,"class","pure-button")},m(g,d){H(g,e,d),c(e,n),c(n,s),c(e,o),c(e,l),c(l,i),c(e,f),c(e,u),c(u,y),c(e,w),c(e,D),c(D,m),c(e,C),L||(j=X(m,"click",G),L=!0)},p(g,d){r=g,d&1&&t!==(t=r[4].id+"")&&B(s,t),d&1&&a!==(a=new Date(r[4].created_at).toLocaleDateString()+"")&&B(i,a),d&1&&v!==(v=r[4].title+"")&&B(y,v)},d(g){g&&h(e),L=!1,j()}}}function x(r){let e,n,t,s="<tr><th>UUID</th> <th>Date</th> <th>title</th> <th></th></tr>",o,l,a=r[0]&&V(r);return{c(){e=_("div"),n=_("table"),t=_("thead"),t.innerHTML=s,o=T(),l=_("tbody"),a&&a.c(),this.h()},l(i){e=p(i,"DIV",{class:!0});var f=b(e);n=p(f,"TABLE",{class:!0});var u=b(n);t=p(u,"THEAD",{"data-svelte-h":!0}),F(t)!=="svelte-miqaas"&&(t.innerHTML=s),o=k(u),l=p(u,"TBODY",{});var v=b(l);a&&a.l(v),v.forEach(h),u.forEach(h),f.forEach(h),this.h()},h(){E(n,"class","pure-table"),E(e,"class","t-wrapper svelte-39jvfb")},m(i,f){H(i,e,f),c(e,n),c(n,t),c(n,o),c(n,l),a&&a.m(l,null)},p(i,[f]){i[0]?a?a.p(i,f):(a=V(i),a.c(),a.m(l,null)):a&&(a.d(1),a=null)},i:O,o:O,d(i){i&&h(e),a&&a.d()}}}function $(r,e,n){let t,{data:s}=e;async function o(a){return await Z.from("blog_posts").delete().eq("id",a)}const l=async a=>{!(await o(a.id)).error&&t&&n(0,t=t.filter(f=>f!==a))};return r.$$set=a=>{"data"in a&&n(2,s=a.data)},r.$$.update=()=>{r.$$.dirty&4&&n(0,t=s.data)},[t,o,s,l]}class st extends K{constructor(e){super(),Q(this,e,$,x,J,{data:2})}}export{st as component};
